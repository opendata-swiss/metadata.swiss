backend:
  name: gitlab
  repo: docker/lindas-next-piveau-js
  auth_type: pkce
  app_id: your-app-id # TODO: Application ID from your GitLab settings
  api_root: https://gitlab.zazuko.com/api/v4
  base_url: https://gitlab.zazuko.com
  auth_endpoint: oauth/authorize

# These lines should *not* be indented
media_folder: "public/img" # Media files will be stored in the repo under static/images/uploads
public_folder: "/img/" # The src attribute for uploaded media will begin with /images/uploads

i18n:
  structure: multiple_files
  default_locale: de
  locales: [de, fr, it, en]

collections:
  - name: handbook-section
    label: "Handbook sections"
    label_singular: Handbook section
    folder: "content/sections"
    extension: md
    widget: "list"
    create: true
    i18n: true
    fields:
      - label: Title
        name: title
        widget: string
        required: true
        i18n: true
      - name: body
        label: Body
        widget: markdown
        i18n: true

  - name: handbook
    label: "Handbook articles"
    label_singular: Handbook article
    identifier_field: id
    folder: "content/handbook"
    extension: md
    widget: "list"
    create: true
    i18n: true
    summary: "{{title}}"
    view_groups:
      - label: Section
        field: section
    path: '{{section}}/{{slug}}'
    fields:
      - label: Section
        name: section
        widget: relation
        collection: handbook-section
        search_fields: ["title"]
        value_field: title
        required: true
        i18n: duplicate
      - label: Title
        name: title
        widget: string
        required: true
        i18n: true
      - label: Breadcrumb title
        name: breadcrumb_title
        widget: string
        required: false
        i18n: true
      - label: Permalink
        name: permalink
        widget: string
        i18n: duplicate
        pattern: ["^[a-z0-9]+(?:/[a-z0-9-]+)*$", "Permalink must be lowercase and can only contain letters, numbers, slashes, and hyphens."]
      - name: body
        label: Body
        widget: markdown
        i18n: true

  - name: pages
    label: "Pages"
    folder: "content/pages"
    extension: md
    widget: "list"
    create: false
    i18n: true
    fields:
      - label: Title
        name: title
        widget: string
        required: true
        i18n: true
      - label: Heading
        name: heading
        widget: string
        i18n: true
        required: false
      - label: Description
        name: description
        widget: markdown
        i18n: true
      - name: body
        label: Body
        widget: markdown
        i18n: true

  - name: blog
    label: Blog
    label_singular: Blog Post
    folder: "content/blog"
    extension: md
    widget: "list"
    create: true
    i18n: true
    fields:
      - label: Title
        name: title
        widget: string
        required: true
        i18n: true
      - label: Slug
        name: slug
        widget: string
        i18n: false
        required: false
        pattern: ["^[a-z0-9]+(?:/[a-z0-9-]+)*$", "Permalink must be lowercase and can only contain letters, numbers, slashes, and hyphens."]
      - label: Date
        name: date
        widget: datetime
        i18n: duplicate
        default: "{{now}}"
      - name: subHeading
        label: Subheading
        widget: markdown
        i18n: true
      - name: body
        label: Body
        widget: markdown
        i18n: true

  - name: Showcases
    label: "Showcases"
    folder: "showcases"
    i18n: true
    extension: md
    widget: "list"
    create: true
    fields:
      - label: Title
        name: title
        widget: string
        i18n: true
      - label: Image
        name: image
        widget: image
        i18n: duplicate
      - label: Website
        name: url
        widget: string
        i18n: duplicate
      - label: Category
        name: category
        widget: select
        multiple: true
        i18n: duplicate
        options:
          - label: "Environment"
            value: envi
          - label: "Regions"
            value: regi
          - label: "Social"
            value: soci
      - label: Type of content
        name: type
        widget: select
        i18n: duplicate
        options:
          - label: "Application"
            value: application
          - label: "Data Visualization"
            value: data_visualization
          - label: "Event"
            value: event
          - label: "Blog/Article"
            value: blog_and_media_articles
      - name: datasets
        label: Datasets
        widget: dataset
        multiple: true
        i18n: duplicate
        required: false
        piveau:
          hub: https://piveau-ln.zazukoians.org/
          search: https://piveau-hub-search-ln.zazukoians.org/
      - name: Tags
        label: Tags
        widget: list
      - name: body
        label: Body
        widget: markdown
        i18n: true
